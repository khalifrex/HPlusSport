@model HPlusSport.Client.Models.ProductViewModel

@{
    ViewData["Title"] = "Update Stock";
}

<h2>Update Stock - @Model.ProductName</h2>

<div class="row">
    <div class="col-md-6">
        <div class="card mb-3">
            <div class="card-header">
                <h5>Current Product Information</h5>
            </div>
            <div class="card-body">
                <p><strong>Product:</strong> @Model.ProductName</p>
                @if (Model.Category != null)
                {
                    <p><strong>Category:</strong> <span class="badge bg-info">@Model.Category.CategoryName</span></p>
                }
                <p><strong>Price:</strong> @Model.Price.ToString("C")</p>
                <p><strong>Current Stock:</strong> 
                    @if (Model.Qty > 0)
                    {
                        <span class="badge bg-success">@Model.Qty units</span>
                    }
                    else
                    {
                        <span class="badge bg-danger">Out of stock</span>
                    }
                </p>
            </div>
        </div>

        <form asp-action="UpdateStock" method="post">
            <input type="hidden" name="id" value="@Model.Id" />
            
            <div class="form-group mb-3">
                <label for="qty" class="control-label">New Stock Quantity</label>
                <input type="number" name="qty" class="form-control" min="0" value="@Model.Qty" required />
                <small class="form-text text-muted">Enter the new stock quantity for this product.</small>
            </div>

            <div class="form-group">
                <button type="submit" class="btn btn-warning">Update Stock</button>
                <a asp-action="Index" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
</div>